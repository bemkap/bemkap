f=: 1 _1 _1+/@:*+*:@:,[,- NB. x f k
oo=: -.(#~-.@:~:)

NB.  1  3  3
NB.  1  2  4
NB.  2  7  7
NB.  3 11 11
NB.  2  6 12
NB.  2  4 16
NB.  5 19 19
NB.  3 10 20
NB.  6 23 23
NB.  4 14 28
NB.  8 31 31
NB. 11 43 43
NB.  6 22 44
NB. 12 47 47
NB.  4 12 48
NB.  7 26 52
NB. 15 59 59
NB. 17 67 67
NB.  9 34 68
NB. 18 71 71
NB. 10 38 76
NB. 20 79 79
NB.  6 20 80
NB. 21 83 83
NB. 12 46 92

k>sqrt(4k^2-N)
k^2>4k^2-N
N<=3k^2

N<=12  k=2
1 2 3 4 5 6 7 8 9 10 11 12